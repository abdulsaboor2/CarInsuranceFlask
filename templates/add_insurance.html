<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for Insurance</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .form-container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }
        .form-container h1 {
            margin-bottom: 30px;
        }
        .form-section {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="form-container">
        <h1 class="text-center">Application for Insurance</h1>
        <form action="{{ url_for('new_insurance') }}" method="post">
            {{ form.hidden_tag() }}
            <div class="form-section">
                <h4>Personal Information</h4>
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" name="name" class="form-control" placeholder="Name" required>
                </div>
                <div class="form-group">
                    <label for="dln">Driving Licence Number</label>
                    <input type="text" name="dln" class="form-control" placeholder="Driving Licence Number" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" name="email" class="form-control" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="text" name="phone" class="form-control" placeholder="Phone" required>
                </div>
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" name="dob" class="form-control" placeholder="Date of Birth" required>
                </div>
            </div>
        
            <div class="form-section">
                <h4>Address</h4>
                <div class="form-group">
                    <label for="address">Street</label>
                    <input type="text" name="address" class="form-control" placeholder="Street" required>
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" name="city" class="form-control" placeholder="City" required>
                </div>
                <div class="form-group">
                    <label for="postcode">Postcode</label>
                    <input type="text" name="postcode" class="form-control" placeholder="Postcode" required>
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" name="country" class="form-control" placeholder="Country" required>
                </div>
            </div>
        
            <div class="form-section">
                <h4>Vehicle Information</h4>
                <div class="form-group">
                    <label for="car_model">Car Model</label>
                    <input type="text" name="car_model" class="form-control" placeholder="Car Model" required>
                </div>
                <div class="form-group">
                    <label for="car_reg">Car Registration Number</label>
                    <input type="text" name="car_reg" class="form-control" placeholder="Car Registration Number" required>
                </div>
                <div class="form-group">
                    <label for="policy_number">Policy Number</label>
                    <input type="text" name="policy_number" class="form-control" placeholder="Policy Number" required>
                </div>
                <div class="form-group">
                    <label for="insurance_type">Insurance Type</label>
                    <select name="insurance_type" class="form-control" required>
                        <option value="comprehensive">Fully Comprehensive</option>
                        <option value="third-party">Third Party</option>
                        <option value="third-party-fire-theft">Third Party, Fire and Theft</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="policy_start_date">Policy Start Date</label>
                    <input type="date" name="policy_start_date" class="form-control" required>
                </div>
            </div>
        
            <div class="form-section">
                <h4>Payment Information</h4>
                <div class="form-group">
                    <label for="amount">Initial Amount</label>
                    <input type="number" name="amount" class="form-control" placeholder="Amount" required>
                </div>
                <div class="form-group">
                    <label for="card_name">Cardholder Name</label>
                    <input type="text" name="card_name" class="form-control" placeholder="Full Name" required>
                </div>
                <div class="form-group">
                    <label for="card_number">Card Number</label>
                    <input type="number" name="card_number" class="form-control" placeholder="1234 5678 8765 4321" required>
                </div>
                <div class="form-group">
                    <label for="exp_date">Expiry Date</label>
                    <input type="month" name="exp_date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="cvc">CVC</label>
                    <input type="number" name="cvc" class="form-control" placeholder="CVC" min="1" max="999" required>
                </div>
            </div>
        
            <div class="form-section">
                <h4>General Conditions</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        
            <div class="text-center">
                <button type="submit" class="btn btn-primary">Agree and Send Application</button>
            </div>
        </form>        
    </div>
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="container mt-3">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
